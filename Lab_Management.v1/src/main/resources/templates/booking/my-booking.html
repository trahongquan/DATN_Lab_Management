<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thyme leaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L·ªãch ƒë·∫∑t PTN c·ªßa t√¥i</title>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" ></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" ></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" ></script>
    <!--<script src="js/script.js"></script>-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" >
    <link rel="stylesheet" href="/css/base2.min.css">
    <link rel="stylesheet" href="/css/styles.css">

</head>
<body>
<div th:replace="headernew::header"></div>
<main>
    <div class="container">
        <!-- search bar with category -->
        <div class="d-flex justify-content-center align-content-center my-3">
            <div class="d-none d-lg-block col-lg-5 col-xl-4" style="background-color: rgba(230,239,255,0.6); border-radius: 1em; padding: 1em">
                <div class="el-search-with-category-wrapper">
                    <div class="product-search electio-filter-available electio-search-style-one electio-ajax-search-header-one" >
                        <form th:action="@{'/Lab/mybooking?username='+${#authentication.name}+'&search=true'}" method="get" class="electio-search-box d-flex flex-row justify-content-between justify-content-center">
                            <div>
                                <input type="hidden" name="search" class="form-control" th:value="'true'">
                                <input type="hidden" name="username" class="form-control" th:value="${#authentication.name}">
                                <input type="date" name="datetimepicker" class="form-control" th:value="${datetimepicker}">
                                <input style="min-width: 15em; border: black solid medium; margin: unset"
                                       type="text" class="form-control text-dark" name="inputdatasearch"
                                       th:value="${inputdatasearch}"
                                       placeholder="T√¨m ki·∫øm theo t√™n ph√≤ng">
                            </div>
                            <div class="d-flex flex-column justify-content-center align-content-center">
                                <button type="submit" style="margin: auto; border-radius: 2em"
                                        value="Search" class="electio-ajax-search-btn-stl-one search-button">
                                    <img src="/images/search-icon-1.png" style="max-width: 20em" alt="">
                                </button>
                                <div class="checkboxThree">
                                    <input type="checkbox" th:checked="${AndOr}" id="checkboxThreeInput" name="AndOr" />
                                    <label for="checkboxThreeInput"></label>
                                    <style>
                                        .checkboxThree { width: 160px; height: 44px; background: rgba(144, 149, 171, 0.64); margin: auto; border-radius: 50px; position: relative; }
                                        .checkboxThree:before { content: 'v√†'; position: absolute; top: 12px; left: 13px; height: 2px; color: #0b0dca; font-size: 16px; font-weight: bold}
                                        .checkboxThree:after { content: 'ho·∫∑c'; position: absolute; top: 12px; left: 101px; height: 2px; color: #0b0dca; font-size: 16px; font-weight: bold}
                                        .checkboxThree label { display: block; width: 88px; height: 26px; border-radius: 50px; -webkit-transition: all .5s ease; -moz-transition: all .5s ease; -o-transition: all .5s ease; -ms-transition: all .5s ease; transition: all .5s ease; cursor: pointer; position: absolute; top: 9px; z-index: 1; left: 12px; background: #ddd; }
                                        .checkboxThree input[type=checkbox]:checked + label { left: 55px; background: #26ca28; }
                                    </style>
                                </div>
                            </div>
                        </form>
                        <div class="search-results electio-search-result"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <form action="#" >
                    <div class="choose-room d-flex justify-content-around align-content-center">
                        <div class="col-3 room" th:each="booking : ${bookingDTOs}" style="border-radius:1em 1em 65px 65px">
                            <div class="card lab-card" style="border-radius:50px" >
                                <div>
                                    <style>
                                        .alert{color: black; font-weight: bold}
                                    </style>
                                    <div th:if="${booking.confirm_Status=='ƒêang ch·ªù duy·ªát'}" class="alert bg-yellow" role="alert">
                                        <span>üïì</span>
                                        <span th:text="${booking.confirm_Status}"></span>
                                    </div>
                                    <div th:if="${booking.confirm_Status=='ƒê√£ x√°c nh·∫≠n'}" class="alert bg-green" role="alert">
                                        <span class="lnr-checkmark-circle"></span>
                                        <span th:text="${booking.confirm_Status}"></span>
                                    </div>
                                    <div th:if="${booking.confirm_Status=='B·ªã t·ª´ ch·ªëi'}" class="alert bg-danger" role="alert">
                                        <span class="fa">‚ùå</span>
                                        <span th:text="${booking.confirm_Status}"></span>
                                    </div>
                                </div>
                                <div style="background-color: #007bff">
                                    <div class="card-header justify-content-center" th:text="${booking.lab.labName}"></div>
                                    <div>
                                        <button th:data="${booking.id}" th:data-user="${#authentication.name}"
                                                th:if="${booking.comfirmUsed!='Ch∆∞a s·ª≠ d·ª•ng'}"
                                                type="button" class="btn btn-primary btn-detail-booking" style="border: black thin;">Xem chi ti·∫øt
                                        </button>
                                        <button th:data="${booking.id}" th:data-user="${#authentication.name}"
                                                th:if="${booking.comfirmUsed=='Ch∆∞a s·ª≠ d·ª•ng'}"
                                                type="button" class="btn btn-warning btn-detail-booking" style="border: black thin;">V√†o x√°c nh·∫≠n
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div>
                                        <span class="lab-info text-primary" th:text="'T√™n '+${booking.experimentReport.reportType} +': '"> </span>
                                        <span class="lab-info span-name" th:text="${booking.content.name}"></span>
                                        <style>
                                            .span-name {display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: 2;overflow: hidden;margin: unset;}
                                        </style>
                                    </div>
                                    <br>
                                    <div>
                                        <span class="lab-info text-primary"> T√™n l·ªõp: </span>
                                        <span class="lab-info" th:text="${booking.content.className}"></span>
                                    </div>
                                    <br>
                                    <div class="date-info" th:value="${booking.confirm_Status}">
                                        <span class="lab-info"> Ng√†y ƒë·∫∑t: </span>
                                        <span class="lab-info strong" th:text="${booking.booking_Date}"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                <div th:replace="admin/add-nocite.html :: notice"></div>
                <div th:replace="admin/add-nocite.html :: noticeUnSuccess"></div>
            </div>
        </div>
    </div>
</main>
<br>
<br>
<br>
<script th:inline="javascript">
    checkuser([[${#authentication.name}]])
</script>
<script src="/js/my-booking.js"></script>
<script src="/js/noticePopUp.js"></script>
</body>
</html>

