<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
<!--<html xmlns:th="http://www.springframework.org/schema/data/jaxb">-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Phone</title>
    <!-- Link to Bootstrap CSS for styling -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" th:href="@{/css/base2.min.css}">
    <link rel="stylesheet" th:href="@{/css/styles.css}">

</head>
<body class="scroll-container">
<equipment-edit-form>
    <!--<div th:replace="admin/headerAdmin :: header-admin"></div>-->
    <h1 style="margin-top: 50px; text-align: center;">Thông tin Thiết bị</h1><br>
    <div class="container">
        <form th:object="${equipment}" th:action="@{'/Lab/admin/Equipment/showFormForUpdate/'+ ${equipment.getId}}" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <h4 for="name">Tên phòng thiết bị:</h4>
                <input type="text" class="form-control" id="name" name="name" required
                       th:value="*{getName}">
            </div>
            <div class="main-card mb-3 card form-group">
                <div class="card-body">
                    <h4 for="description">Mô tả:</h4>
                    <textarea rows="1" class="form-control autosize-input" style="height: 35px;"
                              id="description" name="description" required
                              th:text="*{getDescription}"
                    ></textarea>
                </div>
            </div>
            <div class="form-group seriesDiv ">
                <h4 for="series">Danh sách seri máy:</h4>
                <div class="d-flex flex-row flex-wrap justify-content-start row">
                    <th:block th:each="seri : ${equipment.getEquipmentSerieList}">
                        <div class="inputseri d-flex flex-row flex-wrap justify-content-start">
                            <input type="search" class="form-control m-3 col-sm-6" id="series" name="series" required
                                   th:value="${seri}" style="font-weight: bold">
                            <button type="button" class="btnremove btn btn-primary my-3 col-sm-2" onclick="removeSeri(this)"> - </button>
                        </div>
                    </th:block>
                    <button type="button" class="btn btn-primary m-3" onclick="addInput(this)"> + </button>
                </div>
            </div>
            <div class="form-group seriesDiv ">
                <h4 for="series">Danh sách seri máy đã qua sửa chữa:</h4>
                <div class="d-flex flex-row flex-wrap justify-content-start row">
                    <th:block th:each="seri : ${equipment.getEquipmentSerieFixedList}">
                        <div class="inputseri d-flex flex-row flex-wrap justify-content-start">
                            <input type="search" class="form-control m-3 col-sm-6" id="seriesfixed" name="seriesfixed" required
                                   th:value="${seri}" style="font-weight: bold">
                            <button type="button" class="btnremove btn btn-primary my-3 col-sm-2" onclick="removeSeri(this)"> - </button>
                        </div>
                    </th:block>
                    <button type="button" class="btn btn-primary m-3" onclick="addInputseriesfixed(this)"> + </button>
                </div>
            </div>
            <style>
                .inputseri:hover {
                    box-shadow: -2em 0 5px 2px rgba(0, 0, 125, 0.2);
                }
            </style>
            <script>
                function removeSeri(button) {
                    var inputseriDiv = button.parentNode;
                    inputseriDiv.remove();
                }
                function addInput(button) {
                    var formGroup = button.parentNode;
                    var div_inputseri = document.createElement('div');
                    div_inputseri.classList.add('inputseri');
                    div_inputseri.setAttribute('class', 'inputseri d-flex flex-row flex-wrap justify-content-start');

                    var input = document.createElement('input');
                    input.type = 'text';
                    input.setAttribute('class', 'form-control m-3 col-sm-6');
                    input.name = 'series';
                    input.required = true;
                    input.setAttribute('style', 'font-weight : bold');
                    input.setAttribute('placeholder', "seri mới");

                    var btnremove = document.createElement('button');
                    btnremove.setAttribute('type', 'button');
                    btnremove.setAttribute('class', 'btnremove btn btn-primary my-3 col-sm-2');
                    btnremove.textContent = '-';
                    btnremove.addEventListener('click', function() {
                        removeSeri(this);
                    });

                    div_inputseri.appendChild(input);
                    div_inputseri.appendChild(btnremove);

                    formGroup.insertBefore(div_inputseri, button);
                }
                function addInputseriesfixed(button) {
                    var formGroup = button.parentNode;
                    var div_inputseri = document.createElement('div');
                    div_inputseri.classList.add('inputseri');
                    div_inputseri.setAttribute('class', 'inputseri d-flex flex-row flex-wrap justify-content-start');

                    var input = document.createElement('input');
                    input.type = 'text';
                    input.setAttribute('class', 'form-control m-3 col-sm-6');
                    input.name = 'seriesfixed';
                    input.required = true;
                    input.setAttribute('style', 'font-weight : bold');
                    input.setAttribute('placeholder', "seri mới");

                    var btnremove = document.createElement('button');
                    btnremove.setAttribute('type', 'button');
                    btnremove.setAttribute('class', 'btnremove btn btn-primary my-3 col-sm-2');
                    btnremove.textContent = '-';
                    btnremove.addEventListener('click', function() {
                        removeSeri(this);
                    });

                    div_inputseri.appendChild(input);
                    div_inputseri.appendChild(btnremove);

                    formGroup.insertBefore(div_inputseri, button);
                }
            </script>
            <button type="submit" class="btn btn-primary">Sửa</button>
        </form>
    </div>

    <!-- Link to Bootstrap JS and jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</equipment-edit-form>
</body>
</html>
